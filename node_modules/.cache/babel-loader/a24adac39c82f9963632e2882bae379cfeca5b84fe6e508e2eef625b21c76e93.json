{"ast":null,"code":"var _jsxFileName = \"/Users/emmajin0210/Desktop/DevFlow/src/components/editor/editor.js\",\n  _s = $RefreshSig$();\n// Editor.js\nimport React, { useEffect, useRef } from 'react';\nimport { EditorState, StateEffect, StateField } from '@codemirror/state';\nimport { EditorView, lineNumbers, gutter, GutterMarker, Decoration } from '@codemirror/view';\nimport { javascript } from '@codemirror/lang-javascript';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass SpecialLineMarker extends GutterMarker {\n  constructor(style) {\n    super();\n    this.style = style;\n  }\n  toDOM() {\n    const span = document.createElement(\"span\");\n    Object.assign(span.style, this.style);\n    return span;\n  }\n}\nconst specialLinesEffect = StateEffect.define({\n  map: (value, mapping) => mapping.mapPos(value, -1)\n});\nconst specialLinesField = StateField.define({\n  create() {\n    return Decoration.none;\n  },\n  update(specialLines, tr) {\n    specialLines = specialLines.map(tr.changes);\n    for (let e of tr.effects) if (e.is(specialLinesEffect)) {\n      const {\n        line,\n        color\n      } = e.value;\n      const deco = Decoration.line({\n        attributes: {\n          style: `border-left: 3px solid ${color}; padding-left: 5px; margin-left: 5px;`\n        }\n      });\n      specialLines = specialLines.update({\n        add: [deco.range(tr.state.doc.line(line).from)]\n      });\n    }\n    return specialLines;\n  },\n  provide: f => EditorView.decorations.from(f)\n});\nconst Editor = ({\n  value,\n  specialLineNumbers,\n  specialLineColor\n}) => {\n  _s();\n  const editorParentRef = useRef(null);\n  useEffect(() => {\n    if (!editorParentRef.current) return;\n    const startState = EditorState.create({\n      doc: value,\n      extensions: [lineNumbers(), javascript(), specialLinesField, EditorView.updateListener.of(update => {\n        if (update.docChanged || update.startState !== update.state) {\n          update.view.dispatch({\n            effects: specialLineNumbers.map(line => specialLinesEffect.of({\n              line,\n              color: specialLineColor\n            }))\n          });\n        }\n      })]\n    });\n    const view = new EditorView({\n      state: startState,\n      parent: editorParentRef.current\n    });\n    return () => {\n      view.destroy();\n    };\n  }, [value, specialLineNumbers, specialLineColor]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: editorParentRef\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 10\n  }, this);\n};\n_s(Editor, \"3VSnVeRbSyLoDWyoLSw9+RxgoHw=\");\n_c = Editor;\nexport default Editor;\nvar _c;\n$RefreshReg$(_c, \"Editor\");","map":{"version":3,"names":["React","useEffect","useRef","EditorState","StateEffect","StateField","EditorView","lineNumbers","gutter","GutterMarker","Decoration","javascript","jsxDEV","_jsxDEV","SpecialLineMarker","constructor","style","toDOM","span","document","createElement","Object","assign","specialLinesEffect","define","map","value","mapping","mapPos","specialLinesField","create","none","update","specialLines","tr","changes","e","effects","is","line","color","deco","attributes","add","range","state","doc","from","provide","f","decorations","Editor","specialLineNumbers","specialLineColor","_s","editorParentRef","current","startState","extensions","updateListener","of","docChanged","view","dispatch","parent","destroy","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/emmajin0210/Desktop/DevFlow/src/components/editor/editor.js"],"sourcesContent":["// Editor.js\nimport React, { useEffect, useRef } from 'react';\nimport { EditorState, StateEffect, StateField } from '@codemirror/state';\nimport { EditorView, lineNumbers, gutter, GutterMarker, Decoration } from '@codemirror/view';\nimport { javascript } from '@codemirror/lang-javascript';\n\nclass SpecialLineMarker extends GutterMarker {\n  constructor(style) {\n    super();\n    this.style = style;\n  }\n\n  toDOM() {\n    const span = document.createElement(\"span\");\n    Object.assign(span.style, this.style);\n    return span;\n  }\n}\n\nconst specialLinesEffect = StateEffect.define({map: (value, mapping) => mapping.mapPos(value, -1)});\nconst specialLinesField = StateField.define({\n  create() {\n    return Decoration.none;\n  },\n  update(specialLines, tr) {\n    specialLines = specialLines.map(tr.changes);\n    for (let e of tr.effects) if (e.is(specialLinesEffect)) {\n      const {line, color} = e.value;\n      const deco = Decoration.line({\n        attributes: {style: `border-left: 3px solid ${color}; padding-left: 5px; margin-left: 5px;`}\n      });\n      specialLines = specialLines.update({add: [deco.range(tr.state.doc.line(line).from)]});\n    }\n    return specialLines;\n  },\n  provide: f => EditorView.decorations.from(f)\n});\n\nconst Editor = ({ value, specialLineNumbers, specialLineColor }) => {\n  const editorParentRef = useRef(null);\n\n  useEffect(() => {\n    if (!editorParentRef.current) return;\n\n    const startState = EditorState.create({\n      doc: value,\n      extensions: [\n        lineNumbers(),\n        javascript(),\n        specialLinesField,\n        EditorView.updateListener.of(update => {\n          if (update.docChanged || update.startState !== update.state) {\n            update.view.dispatch({\n              effects: specialLineNumbers.map(line => specialLinesEffect.of({line, color: specialLineColor}))\n            });\n          }\n        })\n      ],\n    });\n\n    const view = new EditorView({\n      state: startState,\n      parent: editorParentRef.current,\n    });\n\n    return () => {\n      view.destroy();\n    };\n  }, [value, specialLineNumbers, specialLineColor]);\n\n  return <div ref={editorParentRef} />;\n};\n\nexport default Editor;\n\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAChD,SAASC,WAAW,EAAEC,WAAW,EAAEC,UAAU,QAAQ,mBAAmB;AACxE,SAASC,UAAU,EAAEC,WAAW,EAAEC,MAAM,EAAEC,YAAY,EAAEC,UAAU,QAAQ,kBAAkB;AAC5F,SAASC,UAAU,QAAQ,6BAA6B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzD,MAAMC,iBAAiB,SAASL,YAAY,CAAC;EAC3CM,WAAWA,CAACC,KAAK,EAAE;IACjB,KAAK,CAAC,CAAC;IACP,IAAI,CAACA,KAAK,GAAGA,KAAK;EACpB;EAEAC,KAAKA,CAAA,EAAG;IACN,MAAMC,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC;IAC3CC,MAAM,CAACC,MAAM,CAACJ,IAAI,CAACF,KAAK,EAAE,IAAI,CAACA,KAAK,CAAC;IACrC,OAAOE,IAAI;EACb;AACF;AAEA,MAAMK,kBAAkB,GAAGnB,WAAW,CAACoB,MAAM,CAAC;EAACC,GAAG,EAAEA,CAACC,KAAK,EAAEC,OAAO,KAAKA,OAAO,CAACC,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;AAAC,CAAC,CAAC;AACnG,MAAMG,iBAAiB,GAAGxB,UAAU,CAACmB,MAAM,CAAC;EAC1CM,MAAMA,CAAA,EAAG;IACP,OAAOpB,UAAU,CAACqB,IAAI;EACxB,CAAC;EACDC,MAAMA,CAACC,YAAY,EAAEC,EAAE,EAAE;IACvBD,YAAY,GAAGA,YAAY,CAACR,GAAG,CAACS,EAAE,CAACC,OAAO,CAAC;IAC3C,KAAK,IAAIC,CAAC,IAAIF,EAAE,CAACG,OAAO,EAAE,IAAID,CAAC,CAACE,EAAE,CAACf,kBAAkB,CAAC,EAAE;MACtD,MAAM;QAACgB,IAAI;QAAEC;MAAK,CAAC,GAAGJ,CAAC,CAACV,KAAK;MAC7B,MAAMe,IAAI,GAAG/B,UAAU,CAAC6B,IAAI,CAAC;QAC3BG,UAAU,EAAE;UAAC1B,KAAK,EAAG,0BAAyBwB,KAAM;QAAuC;MAC7F,CAAC,CAAC;MACFP,YAAY,GAAGA,YAAY,CAACD,MAAM,CAAC;QAACW,GAAG,EAAE,CAACF,IAAI,CAACG,KAAK,CAACV,EAAE,CAACW,KAAK,CAACC,GAAG,CAACP,IAAI,CAACA,IAAI,CAAC,CAACQ,IAAI,CAAC;MAAC,CAAC,CAAC;IACvF;IACA,OAAOd,YAAY;EACrB,CAAC;EACDe,OAAO,EAAEC,CAAC,IAAI3C,UAAU,CAAC4C,WAAW,CAACH,IAAI,CAACE,CAAC;AAC7C,CAAC,CAAC;AAEF,MAAME,MAAM,GAAGA,CAAC;EAAEzB,KAAK;EAAE0B,kBAAkB;EAAEC;AAAiB,CAAC,KAAK;EAAAC,EAAA;EAClE,MAAMC,eAAe,GAAGrD,MAAM,CAAC,IAAI,CAAC;EAEpCD,SAAS,CAAC,MAAM;IACd,IAAI,CAACsD,eAAe,CAACC,OAAO,EAAE;IAE9B,MAAMC,UAAU,GAAGtD,WAAW,CAAC2B,MAAM,CAAC;MACpCgB,GAAG,EAAEpB,KAAK;MACVgC,UAAU,EAAE,CACVnD,WAAW,CAAC,CAAC,EACbI,UAAU,CAAC,CAAC,EACZkB,iBAAiB,EACjBvB,UAAU,CAACqD,cAAc,CAACC,EAAE,CAAC5B,MAAM,IAAI;QACrC,IAAIA,MAAM,CAAC6B,UAAU,IAAI7B,MAAM,CAACyB,UAAU,KAAKzB,MAAM,CAACa,KAAK,EAAE;UAC3Db,MAAM,CAAC8B,IAAI,CAACC,QAAQ,CAAC;YACnB1B,OAAO,EAAEe,kBAAkB,CAAC3B,GAAG,CAACc,IAAI,IAAIhB,kBAAkB,CAACqC,EAAE,CAAC;cAACrB,IAAI;cAAEC,KAAK,EAAEa;YAAgB,CAAC,CAAC;UAChG,CAAC,CAAC;QACJ;MACF,CAAC,CAAC;IAEN,CAAC,CAAC;IAEF,MAAMS,IAAI,GAAG,IAAIxD,UAAU,CAAC;MAC1BuC,KAAK,EAAEY,UAAU;MACjBO,MAAM,EAAET,eAAe,CAACC;IAC1B,CAAC,CAAC;IAEF,OAAO,MAAM;MACXM,IAAI,CAACG,OAAO,CAAC,CAAC;IAChB,CAAC;EACH,CAAC,EAAE,CAACvC,KAAK,EAAE0B,kBAAkB,EAAEC,gBAAgB,CAAC,CAAC;EAEjD,oBAAOxC,OAAA;IAAKqD,GAAG,EAAEX;EAAgB;IAAAY,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AACtC,CAAC;AAAChB,EAAA,CAjCIH,MAAM;AAAAoB,EAAA,GAANpB,MAAM;AAmCZ,eAAeA,MAAM;AAAC,IAAAoB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}